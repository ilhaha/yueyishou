<van-tabs active="{{ active }}" bind:change="switchList">
  <van-tab wx:for="{{tabList}}" wx:key="index" title="{{item.title}}" class="container" class="{{active != index ? 'none' : ''}}">
    <block wx:if="{{orderList.length > 0}}">
      <block wx:for="{{orderList}}" wx:key="orderNo" wx:for-item="order">
        <view class="card-container" data-orderid="{{order.id}}" bind:tap="showDetails" data-orderstatus="{{order.status}}">
          <!-- 待接单、待服务 -->
          <van-card title="{{order.parentCategoryName}} {{order.sonCategoryName}} ¥{{order.unitPrice}}" thumb="{{ order.actualPhoto }}" num="{{order.recycleWeigh}}" price="{{tabList[active].status <= 2 ? order.estimatedTotalAmount - order.expectCustomerPlatformAmount : ''}}" origin-price="{{order.estimatedTotalAmount}}" tag="{{item.title}}" wx:if="{{!order.realCustomerPlatformAmount && !order.realOrderRecycleAmount}}">
            <view slot="desc" class="custom-desc">
              <view>{{order.appointmentTime}}前上门</view>
              <view wx:if="{{tabList[active].status >= 3}}">{{order.arriveTime}}到达<text style="color:red" wx:if="{{order.arriveTimoutMin}}">(超时{{order.arriveTimoutMin}}分钟)</text></view>
            </view>
            <view slot="footer" class="button-group">
              <van-button size="mini" type="primary" class="action-button" catch:tap="remind" wx:if="{{order.status == 1}}">提醒接单</van-button>
              <van-button size="mini" class="action-button" catch:tap="switchCancelOrderShow" data-orderid="{{order.id}}" wx:if="{{order.status == 1}}">取消订单</van-button>
            </view>
          </van-card>

          <van-card title="{{order.parentCategoryName}} {{order.sonCategoryName}} ¥{{order.unitPrice}}" thumb="{{ order.actualPhoto }}" num="{{order.recycleWeigh}}" price="{{order.realOrderRecycleAmount}}" origin-price="100" tag="{{item.title}}" wx:else>
            <view slot="desc" class="custom-desc">
              <view>{{order.appointmentTime}}前上门</view>
              <view wx:if="{{tabList[active].status >= 3}}">{{order.arriveTime}}到达</view>
            </view>
            <view slot="footer" class="button-group">
              <van-button size="mini" type="primary" class="action-button" catch:tap="remind" wx:if="{{order.status == 1}}">提醒接单</van-button>
              <van-button size="mini" class="action-button" catch:tap="switchCancelOrderShow" data-orderid="{{order.id}}" wx:if="{{order.status == 1}}">取消订单</van-button>
            </view>
          </van-card>
        </view>
      </block>
    </block>
    <block wx:else>
      <van-empty description="订单空空如也" />
    </block>
  </van-tab>
</van-tabs>

<van-dialog id="van-dialog" show="{{ isCancelOrderShow }}" title="确认是否删除该订单" show-cancel-button bind:confirm="cancelOrder" />